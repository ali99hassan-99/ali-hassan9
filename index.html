<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>علي حسن للبرمجيات</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="news-ticker">
        <p id="news-content"> عن أمير المؤمنين عليه السلام: "تنافسوا في المعروف لإخوانكم وكونوا من أهله...</p>
    </div>

    <header>
        <h1>علي حسن للبرمجيات</h1>
    </header>

    <section class="profile">
        <img src="a1.jpg" alt="صورتك" class="profile-img">
        <h2>مرحبًا بك في مدونتي علي حسن للبرمجيات</h2>
        <p>نحن نقدم حلولاً برمجية مبتكرة تساعد في تطوير أعمالك وتقنياتك.</p>
    </section>

    <section class="search-bar">
        <p>للبحث عن مقابلتك ، اكتب اسمك الرباعي واضغط "بحث"</p>
        <input type="text" id="search" placeholder="ابحث هنا..." />
        <button onclick="searchFunction()">بحث</button>
        <p id="search-result"></p>
    </section>

    <div class="footer-space"></div>

    <footer>
        <p>يمنكم التواصل معي على:</p>
        <ul>
            <li><a href="https://www.facebook.com/profile.php?id=100079286824119&mibextid=ZbWKwL" class="facebook">فيسبوك</a></li>
            <li><a href="https://t.me/a9_9h9" class="telegram">تليجرام</a></li>
            <li><a href="https://wa.me/9647822621995" class="whatsapp">واتساب</a></li>
        </ul>
        <p>جميع الحقوق محفوظة للمطور علي حسن</p>
    </footer>

    <script>
        let sheetData = [];

        // تحميل البيانات من Google Sheets بتنسيق JSON
        function loadGoogleSheetData() {
            const url = 'https://spreadsheets.google.com/feeds/cells/1GXVFSN0Vl4l54Or4Vr6tk_FrLmLh9JFP/1/public/full?alt=json';
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const entries = data.feed.entry;
                    const rows = [];
                    let row = [];
                    let currentRowIndex = 1;

                    entries.forEach(entry => {
                        const cell = entry.gs$cell;
                        if (cell.row > currentRowIndex) {
                            rows.push(row);
                            row = [];
                            currentRowIndex = cell.row;
                        }
                        row.push(cell.$t);
                    });
                    rows.push(row);
                    sheetData = rows;
                    console.log('Data loaded:', sheetData);
                })
                .catch(error => console.error('Error loading the sheet:', error));
        }

        // تحميل البيانات عند تحميل الصفحة
        window.onload = function() {
            loadGoogleSheetData();
        };

        // دالة البحث
        function searchFunction() {
            const searchTerm = document.getElementById('search').value.trim().toLowerCase();
            const result = document.getElementById('search-result');
            if (!searchTerm) {
                result.innerText = 'يرجى إدخال اسم للبحث.';
                return;
            }

            // البحث في البيانات
            const found = sheetData.find(row => row[0] && row[0].toLowerCase().includes(searchTerm));
            if (found) {
                result.innerText = `مقابلتك: ${found[0]}, المقابلة: ${found[1]}`;
            } else {
                result.innerText = 'لم يتم العثور على الظيم.';
            }
        }
    </script>
</body>
</html>
